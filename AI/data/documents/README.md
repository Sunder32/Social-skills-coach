# –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—É—á–∞—Ç—å –º–æ–¥–µ–ª—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ –Ω–∞ –∫–Ω–∏–≥–∞—Ö –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- **PDF** (.pdf) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pypdf
- **Microsoft Word** (.docx, .doc) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è python-docx
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã** (.txt) - —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫–∏
- **Markdown** (.md)
- **EPUB** (.epub) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ebooklib

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Gradio)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Training UI:
   ```bash
   python training_ui.py
   ```

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É "üìö –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö"

3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –∫–Ω–∏–≥–∞–º–∏

4. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö:
   - **knowledge** - –¥–ª—è RAG (–ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π)
   - **sft** - –¥–ª—è fine-tuning –º–æ–¥–µ–ª–∏
   - **qa** - —Ñ–æ—Ä–º–∞—Ç –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç

5. –ù–∞–∂–º–∏—Ç–µ "–û–±—Ä–∞–±–æ—Ç–∞—Ç—å" –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ –∫–æ–¥

```python
from training.document_loader import DocumentLoader, process_books_for_training

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
loader = DocumentLoader(chunk_size=1000)
text, metadata = loader.load_file("path/to/book.pdf")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏ —Å –∫–Ω–∏–≥–∞–º–∏
documents = loader.load_directory("path/to/books/")

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
loader.create_training_data(
    documents, 
    "output/training_data.jsonl",
    data_type="knowledge"  # –∏–ª–∏ "sft", "qa"
)

# –ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
results = process_books_for_training(
    input_dir="path/to/books/",
    output_dir="data/documents/",
    chunk_size=1000
)
```

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–Ω–∏–≥–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

### –¢–µ–º–∞—Ç–∏–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤:
- –î–µ–π–ª –ö–∞—Ä–Ω–µ–≥–∏ - "–ö–∞–∫ –∑–∞–≤–æ—ë–≤—ã–≤–∞—Ç—å –¥—Ä—É–∑–µ–π –∏ –æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ª—é–¥–µ–π"
- –õ–µ–π–ª –õ–∞—É–Ω–¥–µ—Å - "–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å —Å –∫–µ–º —É–≥–æ–¥–Ω–æ –∏ –æ —á—ë–º —É–≥–æ–¥–Ω–æ"
- –ú–∞—Ä–∫ –ì–æ—É–ª—Å—Ç–æ–Ω - "–Ø —Å–ª—ã—à—É –≤–∞—Å –Ω–∞—Å–∫–≤–æ–∑—å"
- –ö–µ—Ä—Ä–∏ –ü–∞—Ç—Ç–µ—Ä—Å–æ–Ω - "–¢—Ä—É–¥–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏"
- –†–æ–±–µ—Ä—Ç –ß–∞–ª–¥–∏–Ω–∏ - "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –≤–ª–∏—è–Ω–∏—è"

### –¢–µ–º–∞—Ç–∏–∫–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞:
- –î—ç–Ω–∏–µ–ª –ì–æ—É–ª–º–∞–Ω - "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç"
- –¢—Ä–µ–≤–∏—Å –ë—Ä–µ–¥–±–µ—Ä—Ä–∏ - "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç 2.0"
- –ú–∞—Ä—à–∞–ª–ª –†–æ–∑–µ–Ω–±–µ—Ä–≥ - "–ù–µ–Ω–∞—Å–∏–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ"

### –¢–µ–º–∞—Ç–∏–∫–∞ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:
- –£–∏–ª—å—è–º –Æ—Ä–∏ - "–î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –º–æ–∂–Ω–æ –æ–±–æ –≤—Å—ë–º"
- –ö—Ä–∏—Å –í–æ—Å—Å - "–ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤"
- –†–æ–¥–∂–µ—Ä –§–∏—à–µ—Ä - "–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –±–µ–∑ –ø–æ—Ä–∞–∂–µ–Ω–∏—è"

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Knowledge —Ñ–æ—Ä–º–∞—Ç (–¥–ª—è RAG)
```json
{
    "content": "–¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞ –∏–∑ –∫–Ω–∏–≥–∏...",
    "title": "–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞.pdf",
    "source": "–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.pdf",
    "chunk_index": 0,
    "topic": "–æ–±—â–µ–Ω–∏–µ"
}
```

### SFT —Ñ–æ—Ä–º–∞—Ç (–¥–ª—è –æ–±—É—á–µ–Ω–∏—è)
```json
{
    "instruction": "–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–º–æ—â–∏ –≤ –æ–±—â–µ–Ω–∏–∏.",
    "input": "",
    "output": "–¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞ –∏–∑ –∫–Ω–∏–≥–∏...",
    "source": "–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞.pdf"
}
```

### QA —Ñ–æ—Ä–º–∞—Ç (–≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç)
```json
{
    "instruction": "–û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–∞.",
    "input": "–ö–∞–∫–æ–π —Å–æ–≤–µ—Ç –¥–∞—ë—Ç—Å—è –≤ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–µ?",
    "output": "–¢–µ–∫—Å—Ç —á–∞–Ω–∫–∞...",
    "source": "–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ–∞–π–ª–∞.pdf"
}
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∞–Ω–∫–∏–Ω–≥–∞

- **chunk_size** - —Ä–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞ –≤ —Å–∏–º–≤–æ–ª–∞—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 500-2000)
- **chunk_overlap** - –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 200)

–ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞ = –±–æ–ª—å—à–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ, –Ω–æ –ø–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
–ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä = –ª—É—á—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫.
