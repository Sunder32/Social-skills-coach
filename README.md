# 🎯 Тренер социальных навыков (Social Skills Coach)

Десктопное приложение с ИИ для развития коммуникативных навыков, подготовки к сложным разговорам и анализа переписки на основе психологической литературы.

## 📋 Содержание

- [Архитектура](#архитектура)
- [Технологический стек](#технологический-стек)
- [Структура проекта](#структура-проекта)
- [Установка и запуск](#установка-и-запуск)
- [API документация](#api-документация)
- [Функциональность](#функциональность)

---

## 🏗️ Архитектура

### Общая схема системы

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        Frontend (Electron + React)                          │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │   Главная    │ │   Профиль    │ │  Библиотека  │ │  Подготовка  │       │
│  │   страница   │ │ пользователя │ │    знаний    │ │  к диалогу   │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │   Анализ     │ │  Симуляция   │ │  Пост-анализ │ │  Упражнения  │       │
│  │  переписки   │ │   диалогов   │ │  разговоров  │ │  и трекинг   │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    State Management (Zustand)                        │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    Material UI Components                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ HTTP/REST API
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Backend (FastAPI)                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                      API Endpoints                                   │   │
│  │  /api/users  /api/chats  /api/analysis  /api/library  /api/exercises │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                      │                    │                                 │
│  ┌───────────────────┴────────────────────┴────────────────────────────┐   │
│  │                    Обработка запросов                                │   │
│  │    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐            │   │
│  │    │   Auth      │    │  Validation │    │   CORS      │            │   │
│  │    │ Middleware  │    │  Middleware │    │  Middleware │            │   │
│  │    └─────────────┘    └─────────────┘    └─────────────┘            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                      │                                      │
│  ┌───────────────────────────────────┴───────────────────────────────────┐ │
│  │                      AI Integration Layer                              │ │
│  └───────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
          │                            │                            │
          ▼                            ▼                            ▼
┌──────────────────┐    ┌─────────────────────────────┐    ┌──────────────────┐
│  База данных     │    │       AI Module             │    │ External AI APIs │
├──────────────────┤    ├─────────────────────────────┤    ├──────────────────┤
│  ┌────────────┐  │    │  ┌─────────────────────┐   │    │   GPT-4 / Claude │
│  │   MySQL    │  │    │  │   LLM Core          │   │    │   API            │
│  │  - Users   │  │    │  │   (GPT-4/Claude)    │   │    └──────────────────┘
│  │  - Chats   │  │    │  └─────────────────────┘   │
│  │  - Progress│  │    │            │               │
│  │  - History │  │    │  ┌─────────┴─────────┐     │
│  └────────────┘  │    │  │                   │     │
│  ┌────────────┐  │    │  ▼                   ▼     │
│  │   FAISS    │  │    │ ┌──────────┐ ┌──────────┐ │
│  │  Векторный │◄─┼────┼─│RAG       │ │Sentiment │ │
│  │   поиск    │  │    │ │Pipeline  │ │Analysis  │ │
│  └────────────┘  │    │ └──────────┘ └──────────┘ │
└──────────────────┘    │  ┌──────────────────────┐  │
                        │  │ Document Parser      │  │
                        │  │ (PDF, DOCX, TXT)     │  │
                        │  └──────────────────────┘  │
                        │  ┌──────────────────────┐  │
                        │  │ Training Module      │  │
                        │  │ (PyTorch, SFT, DPO)  │  │
                        │  └──────────────────────┘  │
                        │  ┌──────────────────────┐  │
                        │  │ Cache (Redis/Memory) │  │
                        │  └──────────────────────┘  │
                        └─────────────────────────────┘
```

### Архитектура AI-модуля

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              AI Module Pipeline                              │
└─────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐
    │ Входные      │    │ Препроцес-   │    │ Классифи-    │    │ RAG          │
    │ данные       │───▶│ синг         │───▶│ кация        │───▶│ Pipeline     │
    │              │    │              │    │              │    │              │
    │ • Текст      │    │ • Токениза-  │    │ • Тип        │    │ • Поиск в    │
    │ • Контекст   │    │   ция        │    │   ситуации   │    │   базе знаний│
    │ • Тип задачи │    │ • Очистка    │    │ • Sentiment  │    │ • FAISS +    │
    │              │    │   данных     │    │   analysis   │    │   MySQL      │
    └──────────────┘    └──────────────┘    └──────────────┘    └──────┬───────┘
                                                                       │
                                                                       ▼
                                                            ┌──────────────────┐
                                                            │ Библиотека       │
                                                            │ знаний           │
                                                            │ ┌──────────────┐ │
                                                            │ │ • Психология │ │
                                                            │ │ • Коммуника- │ │
                                                            │ │   ция        │ │
                                                            │ │ • Техники    │ │
                                                            │ │ • Сценарии   │ │
                                                            │ └──────────────┘ │
                                                            └────────┬─────────┘
                                                                     │
                            ┌────────────────────────────────────────┘
                            ▼
                ┌───────────────────────────────────────────────────────────┐
                │                      LLM Core                              │
                │                   (GPT-4 / Claude)                         │
                ├───────────────────────────────────────────────────────────┤
                │  • Генерация ответов                                       │
                │  • Персонализация                                          │
                │  • Контекстный анализ                                      │
                └───────────────────────────────────────────────────────────┘
                            │
        ┌───────────────────┼───────────────────┬───────────────────┐
        ▼                   ▼                   ▼                   ▼
┌──────────────┐    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│ Подготовка   │    │ Анализ       │    │ Симуляция    │    │ Упражнения   │
│ к разговорам │    │ переписки    │    │ диалогов     │    │ и практика   │
│              │    │              │    │              │    │              │
│ • Планиро-   │    │ • Паттерны   │    │ • Ролевые    │    │ • Трекинг    │
│   вание      │    │ • Тон        │    │   игры       │    │              │
└──────────────┘    └──────────────┘    └──────────────┘    └──────────────┘
```

---

## 🛠️ Технологический стек

| Компонент | Технологии |
|-----------|------------|
| **Desktop** | Electron + React + JavaScript |
| **UI** | Material UI (MUI) |
| **State Management** | Zustand |
| **Backend** | Python 3.11+, FastAPI |
| **База данных** | MySQL |
| **Поиск** | MySQL FULLTEXT + FAISS (гибридный retrieval) |
| **Парсинг документов** | pypdf, python-docx, openpyxl, python-pptx |
| **AI/ML** | PyTorch, SentencePiece, DPO |
| **LLM** | GPT-4 / Claude API |
| **Кэширование** | Redis / In-memory |

---

## 📁 Структура проекта

```
Socialskillscoach/
├── README.md                    # Документация проекта
├── docker-compose.yml           # Docker конфигурация
├── .env.example                 # Пример переменных окружения
│
├── Backend/                     # FastAPI сервер
│   ├── app/
│   │   ├── __init__.py
│   │   ├── main.py             # Точка входа FastAPI
│   │   ├── config.py           # Конфигурация
│   │   ├── database.py         # Подключение к БД
│   │   │
│   │   ├── api/                # API endpoints
│   │   ├── models/             # SQLAlchemy модели
│   │   ├── schemas/            # Pydantic схемы
│   │   ├── services/           # Бизнес-логика
│   │   └── middleware/         # Middleware
│   │
│   ├── requirements.txt
│   └── Dockerfile
│
├── AI/                         # AI модуль
│   ├── core/                   # LLM клиент, embeddings
│   ├── rag/                    # RAG Pipeline, FAISS
│   ├── analysis/               # Анализ текста
│   ├── generation/             # Генерация контента
│   ├── parsers/                # Парсинг документов
│   └── training/               # Обучение моделей
│
├── Frontend/                   # Electron + React
│   ├── electron/               # Electron main process
│   ├── src/                    # React приложение
│   │   ├── api/                # API клиент
│   │   ├── store/              # Zustand stores
│   │   ├── components/         # React компоненты
│   │   ├── pages/              # Страницы
│   │   └── theme/              # MUI тема
│   └── package.json
│
└── scripts/                    # Вспомогательные скрипты
```

---

## 🚀 Установка и запуск

### Предварительные требования

- Node.js 18+
- Python 3.11+
- MySQL 8.0+

### Быстрый старт

```bash
# 1. Настройка переменных окружения
cp .env.example .env

# 2. Backend
cd Backend && pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000

# 3. Frontend
cd Frontend && npm install && npm run electron:dev
```

---

## 📡 API Endpoints

| Метод | Endpoint | Описание |
|-------|----------|----------|
| POST | `/api/users/register` | Регистрация |
| POST | `/api/users/login` | Авторизация |
| POST | `/api/chats/prepare` | Подготовка к разговору |
| POST | `/api/chats/simulate` | Симуляция диалога |
| POST | `/api/analysis/text` | Анализ переписки |
| GET | `/api/library/search` | Поиск в библиотеке |
| GET | `/api/exercises` | Упражнения |

Документация API: http://localhost:8000/docs

---

## 📄 Лицензия

MIT License
